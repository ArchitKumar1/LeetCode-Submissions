{"id":549967806,"lang":"cpp","time":"3 months, 2 weeks","timestamp":1630864669,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/549967806/","is_pending":"Not Pending","title":"GCD Sort of an Array","memory":"N/A","code":"class dsu {\n    public:\n    vector<int> par;\n    int n;\n    dsu(int _n) : n(_n) {\n        par.resize(n);\n        iota(par.begin(), par.end(), 0);\n    } \n    inline int get(int x) {\n        return (x == par[x] ? x : (par[x] = get(par[x])));\n    }\n    inline bool merge(int x, int y) {\n        x = get(x);\n        y = get(y);\n        if (x != y) {\n            par[x] = y;\n            return true;\n        }\n        return false;\n    }\n};\nclass Solution {\npublic:\n\n    bool gcdSort(vector<int>& nums) {\n        const int N = 1e5+1;\n        int n = nums.size();\n        dsu d(N);\n        unordered_map<int,int> m1;\n        vector<vector<int>> G1(N);\n        \n        for(int i = 0;i < n;i++){\n            G1[nums[i]].push_back(i);\n        }\n        for(int i = 0;i < n;i++){\n            for(int j = 0;j+1<G1[i].size();j++){\n                d.merge(G1[i][j],G1[i][j+1]);\n            }\n        }\n        for(int i = 0;i < n;i++) m1[nums[i]] = i+1;\n        for(int i = 2;i < N;i++){\n            for(int j = i;j < N;j+= i){\n                if(m1[i] && m1[j]) d.merge(m1[i]-1,m1[j]-1);\n            }\n        }\n        vector<int> snums = nums;\n        sort(nums.begin(),nums.end());\n        vector<vector<int>> G(n);\n        \n        for(int i = 0;i < n;i++){\n            int p = d.get(i);\n            G[p].push_back(i);\n        }\n        bool ans = true;\n        for(int i = 0;i < n;i++){\n            vector<int> curr;\n            vector<int> old;\n            for(int idx : G[i]) old.push_back(nums[idx]);\n            for(int idx : G[i]) curr.push_back(snums[idx]);\n            sort(old.begin(),old.end());\n            sort(curr.begin(),curr.end());\n            if(old!=curr)ans= false;\n        }\n        return ans;\n    }\n};","compare_result":"11110111111110111001111110111101111111110111111111111111100000000000000000000000000000000","title_slug":"gcd-sort-of-an-array"}