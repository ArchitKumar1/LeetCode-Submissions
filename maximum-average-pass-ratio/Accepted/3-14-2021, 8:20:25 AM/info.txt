{"id":467467433,"lang":"cpp","time":"9 months, 2 weeks","timestamp":1615690225,"status_display":"Accepted","runtime":"848 ms","url":"/submissions/detail/467467433/","is_pending":"Not Pending","title":"Maximum Average Pass Ratio","memory":"109.3 MB","code":"class Solution {\npublic:\n    double maxAverageRatio(vector<vector<int>>& classes, int extraStudents) {\n        \n        int n = classes.size();\n        vector<double> pts(n);\n        vector<int> passall(n);\n        vector<int> totalall(n);\n        \n        priority_queue<pair<double,int>> pq;\n        for(int i = 0;i<n;i++){\n            vector<int> x = classes[i];\n            \n            int pass = passall[i] = x[0];\n            int total = totalall[i] =  x[1];\n            double curr = 1.0*pass/total;\n            double newcurr = 1.0*(pass+1)/(total+1) - curr;\n            pts[i] = curr;\n            pq.push({newcurr,i});\n        }\n        while(extraStudents--){\n            auto [curr,i] = pq.top(); pq.pop();\n            pts[i] += curr;\n            passall[i]++;\n            totalall[i]++;\n            double oldcurr = 1.0*(passall[i])/(totalall[i]);\n            double newcurr = 1.0*(passall[i]+1)/(totalall[i]+1);\n            pq.push({newcurr-oldcurr,i});\n        }\n        double ans = 0;\n        for(int i = 0;i<n;i++){\n            ans += pts[i];\n        }\n        return ans/n;\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"maximum-average-pass-ratio"}