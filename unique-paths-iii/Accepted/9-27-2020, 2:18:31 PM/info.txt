{"id":401327727,"lang":"cpp","time":"1 year, 2 months","timestamp":1601196511,"status_display":"Accepted","runtime":"0 ms","url":"/submissions/detail/401327727/","is_pending":"Not Pending","title":"Unique Paths III","memory":"7.4 MB","code":"class Solution {\npublic:\n    int n ,m;\n    vector<vector<int>> G;\n    bool safe(int i,int j){\n        return  i>=0 && j>=0 && i<n && j<m;\n    }\n    int dx[4] = {0,1,0,-1};\n    int dy[4] = {1,0,-1,0};\n    int nos_mask = 0;\n    \n    int dfs(int i,int j,int mask){\n        if(!safe(i,j)) return 0;\n        if(G[i][j] == -1) return 0;\n        int pos = m*i+j;\n        if(mask & (1<<pos)) return 0;\n        mask|=(1<<pos);\n        \n        if(G[i][j] == 2){\n            if(nos_mask == mask){\n                //cout << nos_mask << \" 1 \" << mask << endl;\n                return 1;\n            }else{\n                //cout << nos_mask << \" 0 \" << mask << endl;\n                return 0;\n            }\n        }\n        \n        int ans = 0;\n        for(int k = 0;k<4;k++){\n            ans += dfs(i+dx[k],j+dy[k],mask);\n        }\n        return ans;\n    \n    }\n    \n    int uniquePathsIII(vector<vector<int>>& grid) {\n        n = grid.size();\n        m = grid[0].size();\n        G = grid;\n        int S = 0;\n        for(int i =0;i<n;i++){\n            for(int j = 0;j<m;j++){\n                if(G[i][j] != -1 ){\n                    nos_mask|=(1<<(m*i+j));\n                }\n                if(G[i][j] == 1){\n                    S = m*i+j;\n                }\n            }\n            \n        }\n        \n        return dfs(S/m,S%m,0);\n    }\n};","compare_result":"111111111111111111111111111111111111111","title_slug":"unique-paths-iii"}