{"id":479449516,"lang":"cpp","time":"8 months, 2 weeks","timestamp":1618175636,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/479449516/","is_pending":"Not Pending","title":"Number of Atoms","memory":"N/A","code":"class Solution {\npublic:\n    string countOfAtoms(string formula) {\n        \n        map<char,int> m1;\n        \n        auto ischar = [&](char c){\n            return (c>='A' && c<='Z');\n        };\n        auto solve = [&](string s){\n            cout << s << endl;\n            for(int i = 0;i < s.size();i++){\n                char c = s[i];\n                if(ischar(s[i])){\n                    int cnt = 0;\n                    while(i + 1 < s.size() && !ischar(s[i+1])){\n                        cnt = cnt*10 + (s[i+1]-'0');\n                        i++;\n                    }\n                    if(cnt > 1 ) m1[c] += cnt;\n                    else m1[c]++;\n                }\n            }\n        };\n        function<void(string)> comp = [&](string s){\n            string t ;\n            for(char c : s){\n                if(c == '('){\n                    solve(t);\n                    t = \"\";\n                }\n                if(c == ')'){\n                    comp(t);\n                    t = \"\";\n                }\n                t += c;\n            }\n            if(t.size() > 0){\n                solve(t);\n            }\n        };\n        comp(formula);\n        vector<pair<int,char>> v;\n        for(auto x : m1) v.emplace_back(x.second,x.first),cout << x.first << \" \" <<x.second << endl;\n        sort(v.rbegin(),v.rend());\n        string fans;\n        for(auto [va,c] : v){\n            fans += c;\n            if(va > 1) fans += to_string(va);\n        }\n        return fans;\n    }\n};","compare_result":"1000111100000000000000000000100","title_slug":"number-of-atoms"}