{"id":498614242,"lang":"cpp","time":"7Â months","timestamp":1622047126,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/498614242/","is_pending":"Not Pending","title":"Number of Atoms","memory":"N/A","code":"class Solution {\npublic:\n    \n    map<string,int> m1;\n    bool ischar(char c){\n        return islower(c) || isupper(c);\n    };\n    bool islower(char c){\n        return (c>='a' && c<='z');\n    };\n    bool isupper(char c){\n        return (c>='A' && c<='Z');\n    };\n    bool isnum(char c){\n        return (c>='0' && c<='9');\n    };\n    map<string,int> solve(vector<string> vs){\n        stack<string> st;\n        vector<string> next;\n        map<string,int> m1;\n        for(auto x : vs){\n    \n            if(x == string(1,'(') || x == string(1,')')){\n                st.push(x);\n            }else if(isnum(x[0])){\n                next = vector<string>();\n                \n                if(st.top() == string(1,')')){\n                                    \n                    st.pop();\n                    while(st.top()!=string(1,'(')){\n                        next.push_back(st.top());\n                        st.pop();\n                    }\n                    st.pop();\n                    reverse(next.begin(),next.end());\n                    map<string,int> m2 = solve(next);\n                    for(auto y : m2){\n                        m1[y.first] += stoi(x) * y.second;\n                    }\n                }else{\n                    string t  = st.top();\n                    m1[t] += stoi(x);\n                    st.pop();\n                }\n                \n            }else{\n                st.push(x);\n            }\n            \n        }\n        while(st.size()){\n                m1[st.top()]++;\n                st.pop();\n            }\n        return m1;\n        \n    }\n    string countOfAtoms(string formula) {\n                \n        \n        auto split = [&](string s) -> vector<string> {\n            vector<string> splits;\n            for(int i = 0;i < s.size();i++){\n                char c = s[i];\n                if( c == '(' || c == ')'){\n                    splits.push_back(string(1,c));\n                }\n                else if(isnum(c)){\n                    string t = string(1,s[i]);\n                    while(i + 1 < s.size() && isnum(s[i+1])){\n                        t += s[i+1];\n                        i++;\n                    }\n                    splits.push_back(t);\n                }\n                else if(ischar(c)){\n                    string t = string(1,s[i]);\n                    while(i + 1 < s.size() && islower(s[i+1])){\n                        t += s[i+1]; \n                        i++;\n                    }\n                    splits.push_back(t);\n                }\n            }\n            return splits;\n        };\n        vector<string> splits = split(formula);\n        \n        \n        \n        for(auto x : splits){\n           cout << x << endl;\n        }\n        map<string,int>m1 =  solve(splits);\n        string ans = \"\";\n        for(auto x : m1){\n            ans += x.first;\n            if(x.second  > 1){\n                ans += to_string(x.second);\n            }\n        }\n        return ans;\n    }\n};","compare_result":"1101111110000000000000000000000","title_slug":"number-of-atoms"}