{"id":561085672,"lang":"cpp","time":"2 months, 4 weeks","timestamp":1632628719,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/561085672/","is_pending":"Not Pending","title":"The Score of Students Solving Math Expression","memory":"N/A","code":"class Solution {\npublic:\n    int scoreOfStudents(string s, vector<int>& answers) {\n        int n = answers.size();\n        vector<int> ans(n);\n        \n        int m = s.size();\n        vector<string> vs;\n        \n        for(int i = 0;i < m;i++){\n            char c = s[i];\n            \n            vs.push_back(string(1,c));\n        }\n        \n        auto parse = [&](vector<string> v) -> int{\n            stack<string> st;\n           \n            for(int i = 0;i < v.size();i++){\n                // cout << v[i] << \" \";\n                string s = v[i];\n                 if(st.size() && st.top() == \"*\"){\n                    st.pop();\n                    string t = st.top();\n                    st.pop();\n                    st.push(to_string(stoi(s) * stoi(t)));\n                }else{\n                    st.push(s);\n                }\n            }\n            // cout << endl;\n            v.clear();\n            while(st.size()){\n                v.push_back(st.top());\n                st.pop();\n            }\n            reverse(v.begin(),v.end());\n            for(int i = 0;i < v.size();i++){\n                string s = v[i];\n                if(st.size() && st.top() == \"+\"){\n                    st.pop();\n                    string t = st.top();\n                    st.pop();\n                    st.push(to_string(stoi(s) + stoi(t)));\n                }else{\n                    st.push(s);\n                }\n            }\n            \n            return stoi(st.top());\n        };\n        \n        \n        int M = m/2;\n        \n        int correct = parse(vs);\n        // cout << correct << endl;\n        map<int,int> half;\n        for(int i = 0;i < 1 << M;i++){\n            vector<string> vstemp = vs;\n            for(int j = 0; j < M;j++){\n                if( i >> j & 1){\n                    if(vs[2*j + 1] == \"+\") vstemp[2*j + 1] = \"*\"; \n                    else vstemp[2*j + 1] = \"+\";\n                }\n                \n            }\n            int hc = parse(vstemp);\n            // cout << hc << endl;\n            half[hc] = 1;\n            \n        }\n        for(int i = 0;i < n;i++){\n            if(answers[i] == correct) ans[i] = 5;\n            else if(half[answers[i]]) ans[i] = 2;\n            else ans[i] = 0;\n        }\n        int fans = 0;\n        for(int c : ans)  fans += c;\n        return fans;\n\n    }\n};","compare_result":"10101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"the-score-of-students-solving-math-expression"}