{"id":564871426,"lang":"python3","time":"2Â months, 3Â weeks","timestamp":1633233561,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/564871426/","is_pending":"Not Pending","title":"Stone Game IX","memory":"N/A","code":"class Solution:\n    def stoneGameIX(self, stones: List[int]) -> bool:\n        cnt = [0,0,0]\n        for s in stones:\n            cnt[s%3] += 1\n                \n        @cache\n        def solve(a,b,c,suma,turn):\n            # print(a,b,c,suma,turn)\n            ans = False\n            if turn == 0:\n                if suma %3 == 1:\n                    #rem 1 can choose only 1 and 3;\n                    if(a > 0):\n                        v =  solve(a-1,b,c,(suma+1)%3,turn ^ 1)\n                        if not v: ans = True\n                    if(c > 0):\n                        v =  solve(a,b,c-1,(suma+3)%3,turn^1)\n                        if not v: ans = True\n\n                elif suma %3 == 2:\n                    #rem 2 can choose only 2 and 3;\n                    if(b > 0):\n                        v =  solve(a,b-1,c,(suma+2)%3,turn^1)\n                        if not v: ans = True\n                    if(c > 0):\n                        v =  solve(a,b,c-1,(suma+3)%3,turn^1)\n                        if not v: ans = True\n                            \n                elif suma %3 == 0:\n                    if(a > 0):\n                        v =  solve(a-1,b,c,(suma+1)%3,turn^1)\n                        if not v: ans = True\n                    if(b > 0):\n                        v =  solve(a,b-1,c,(suma+2)%3,turn^1)\n                        if not v: ans = True\n                \n            else:\n                if a == 0 and b == 0 and c == 0 : ans = True\n                elif suma %3 == 1:\n                    #rem 1 can choose only 1 and 3;\n                    if(a > 0):\n                        v =  solve(a-1,b,c,(suma+1)%3,turn ^ 1)\n                        if not v: ans = True\n                    if(c > 0):\n                        v =  solve(a,b,c-1,(suma+3)%3,turn ^ 1)\n                        if not v: ans = True\n\n                elif suma %3 == 2:\n                    #rem 2 can choose only 2 and 3;\n                    if(b > 0):\n                        v =  solve(a,b-1,c,(suma+2)%3,turn^1)\n                        if not v: ans = True\n                    if(c > 0):\n                        v =  solve(a,b,c-1,(suma+3)%3,turn^1)\n                        if not v: ans = True\n                            \n                elif suma %3 == 0:\n                    if(a > 0):\n                        v =  solve(a-1,b,c,(suma+1)%3,turn^1)\n                        if not v: ans = True\n                    if(b > 0):\n                        v =  solve(a,b-1,c,(suma+2)%3,turn^1)\n                        if not v: ans = True\n            return ans\n            \n        return solve(cnt[1],cnt[2],cnt[0],0,0)\n        \n        \n        ","compare_result":"111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000","title_slug":"stone-game-ix"}