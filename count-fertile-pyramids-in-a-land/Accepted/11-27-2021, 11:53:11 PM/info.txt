{"id":593523512,"lang":"cpp","time":"3 weeks, 5 days","timestamp":1638037391,"status_display":"Accepted","runtime":"180 ms","url":"/submissions/detail/593523512/","is_pending":"Not Pending","title":"Count Fertile Pyramids in a Land","memory":"55.2 MB","code":"class Solution {\npublic:\n    int countPyramids(vector<vector<int>>& grid) {\n        int it = 2;\n        int ans = 0;\n        while(it--){\n            int n = grid.size();\n            int m = grid[0].size();\n            vector<vector<int>> p(n,vector<int>(m,0));\n            vector<vector<int>> s(n,vector<int>(m,0));\n            vector<vector<int>> cnt(n,vector<int>(m,0));\n            p = grid;\n            s = grid;\n            for(int i =0;i<n;i++){\n                for(int j = 1;j < m;j++){\n                    if(grid[i][j]) p[i][j] += p[i][j-1];\n                }\n            }\n            for(int i =0;i<n;i++){\n                for(int j = m-2;j >= 0;j--){\n                    if(grid[i][j]) s[i][j] += s[i][j+1];\n                }\n            }\n            for(int i = 0;i<n;i++){\n                for(int j=0;j<m;j++){\n                    if(grid[i][j] == 0) continue;\n                    int left = p[i][j];\n                    int right = s[i][j];\n                    int top = (i?cnt[i-1][j] : 0);\n                    int mini = min(left,right);\n                    if(mini > top){\n                        cnt[i][j] = top+1;\n                    }else{\n                        cnt[i][j] = mini;\n                    }\n                    if(cnt[i][j]){\n                        ans += cnt[i][j]-1;\n                    }\n                }\n            }\n            for(int j=0;j<m;j++){\n                for(int i =0;i<n/2;i++){\n                    swap(grid[i][j],grid[n-i-1][j]);\n                }\n            }\n        }\n        cout << endl;\n        return ans;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111","title_slug":"count-fertile-pyramids-in-a-land"}