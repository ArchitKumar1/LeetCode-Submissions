{"id":317107039,"lang":"python","time":"1Â year, 8Â months","timestamp":1585487717,"status_display":"Accepted","runtime":"984 ms","url":"/submissions/detail/317107039/","is_pending":"Not Pending","title":"Online Majority Element In Subarray","memory":"20.7 MB","code":"class MajorityChecker(object):\n\n    def __init__(self, A):\n        a2i = collections.defaultdict(list)\n        for i, x in enumerate(A):\n            a2i[x].append(i)\n        self.A, self.a2i = A, a2i\n\n    def query(self, left, right, threshold):\n        for _ in xrange(20):\n            a = self.A[random.randint(left, right)]\n            l = bisect.bisect_left(self.a2i[a], left)\n            r = bisect.bisect_right(self.a2i[a], right)\n            if r - l >= threshold:\n                return a\n        return -1","compare_result":"111111111111111111111111111","title_slug":"online-majority-element-in-subarray"}