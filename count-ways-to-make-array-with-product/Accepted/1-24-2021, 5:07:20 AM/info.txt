{"id":446909634,"lang":"cpp","time":"11Â months","timestamp":1611445040,"status_display":"Accepted","runtime":"96 ms","url":"/submissions/detail/446909634/","is_pending":"Not Pending","title":"Count Ways to Make Array With Product","memory":"40.6 MB","code":"class Solution {\npublic:\n    vector<int> waysToFillArray(vector  <vector<int>>& queries) {\n        \n        const int N = 12345;\n        const int MOD =  1e9+7;\n        \n        auto pow_mod = [&](int a,int b,int m= MOD){\n            long long res = 1;while(b){ if(b&1) res =((long long)res*a)%m; a = ((long long)a*a)%m;b >>=1;}return res;\n        };\n        vector<int> fact(N,1),ifact(N,1);\n            \n        for(int i = 1;i<N;i++){\n            fact[i] = 1LL* fact[i-1] * i % MOD;\n        }\n        \n        ifact[N-1] = pow_mod(fact[N-1],MOD-2,MOD);\n            \n        for(int i = N-2;i>=1;i--){\n            ifact[i] = 1LL* ifact[i+1] * (i+1) % MOD;\n        }\n        auto factorize = [&](int x){\n            vector<int> facts;\n            int X = x;\n            for(int i = 2;i*i<=X;i++){\n                int cnt = 0;\n                while(X%i == 0){\n                    X/= i;\n                    cnt++;\n                }\n                if(cnt > 0){\n                    facts.push_back(cnt);\n                }\n            }\n            if( X > 1) facts.push_back(1);\n            return facts;\n        };\n        \n        auto comb = [&](int n,int r){\n            return 1LL* fact[n] * ifact[n-r] % MOD * ifact[r] % MOD;\n        };\n        vector<int> res;\n        for(auto x : queries){\n            int n = x[0],k = x[1];\n            long long int total = 1;\n            vector<int> facts = factorize(k);\n            \n            for(int f : facts){\n                total = total * comb(n+f-1,n-1) % MOD;\n            }\n            res.push_back(total);\n        }\n        return res;\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111","title_slug":"count-ways-to-make-array-with-product"}