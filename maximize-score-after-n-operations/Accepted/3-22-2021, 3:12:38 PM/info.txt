{"id":470947683,"lang":"cpp","time":"9Â months","timestamp":1616406158,"status_display":"Accepted","runtime":"72 ms","url":"/submissions/detail/470947683/","is_pending":"Not Pending","title":"Maximize Score After N Operations","memory":"26.6 MB","code":"class Solution {\npublic:\n    int maxScore(vector<int>& nums) {\n        \n        int n = nums.size();\n        int OP = n/2;\n        int dp[1 << n];\n        memset(dp,0,sizeof(dp));\n        \n        vector<int> bit[1 << n];\n        for(int m = 0;m < 1 << n;m++){\n            bit[m].reserve(n);\n            for(int i = 0;i<n;i++){\n                if(m>>i&1){\n                    bit[m].push_back(i);\n                }\n            }\n        }\n        int GCD[n][n];\n        for(int x = 0;x< n;x++){\n            for(int y = 0;y<n;y++){\n                GCD[x][y] = __gcd(nums[x],nums[y]);\n            }\n        }\n        \n        for(int m = 0;m < 1 << n;m++){\n            dp[m] = max(dp[m],dp[m]);\n            int bits = __builtin_popcount(m);\n            if(bits < 2 || bits%2 == 1) continue;\n            \n            int op = bits/2;\n            for(int x = 0;x< bit[m].size();x++){\n                for(int y = x+1;y<bit[m].size();y++){\n                    int i = bit[m][x],j = bit[m][y];\n                    if( m>>i&1 && m>>j&1){\n                        int nm = m ^ (1 << i) ^ (1 << j);\n                        dp[m] = max(dp[m],dp[nm]+ op*GCD[i][j]);\n                    }\n                }\n            }\n        }\n        \n        return dp[-1 + (1 << n)];\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111","title_slug":"maximize-score-after-n-operations"}