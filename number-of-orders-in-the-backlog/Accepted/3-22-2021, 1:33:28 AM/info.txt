{"id":470703280,"lang":"cpp","time":"9 months, 1 week","timestamp":1616357008,"status_display":"Accepted","runtime":"240 ms","url":"/submissions/detail/470703280/","is_pending":"Not Pending","title":"Number of Orders in the Backlog","memory":"64.2 MB","code":"class Solution {\npublic:\n    int getNumberOfBacklogOrders(vector<vector<int>>& orders) {\n        priority_queue<pair<int,int>> buypq;\n        priority_queue<pair<int,int>,vector<pair<int,int>> , greater<pair<int,int>>> sellpq;\n        \n        for(auto x : orders){\n            if(x[2] == 1){\n                int P = x[0];\n                int A  = x[1];\n                \n                while(A > 0 && buypq.size() > 0 && buypq.top().first >= P ){\n                    auto[p,a] = buypq.top(); buypq.pop();\n                    if(a >= A){\n                        a-= A;\n                        A = 0;\n                    }else{\n                        \n                        A -= a;\n                        a = 0;\n                    }\n                    if(a > 0){\n                        buypq.push({p,a});\n                    }\n                }\n                if(A > 0) sellpq.push({P,A});\n                \n            }else{\n                int P = x[0];\n                int A  = x[1];\n                \n                while(A > 0 && sellpq.size() > 0 && sellpq.top().first <= P ){\n                    auto[p,a] = sellpq.top(); sellpq.pop();\n                    if(a >= A){\n                        a-= A;\n                        A = 0;\n                    }else{\n                        \n                        A -= a;\n                        a = 0;\n                    }\n                    if(a > 0){\n                        sellpq.push({p,a});\n                    }\n                }\n                if(A > 0){\n                    buypq.push({P,A});\n                }\n            }\n        }\n        long long  ans = 0;\n        int mod = 1e9+7;\n        while(sellpq.size() > 0){\n            ans += sellpq.top().second;\n            ans %= mod;\n            sellpq.pop();\n        }\n        while(buypq.size() > 0){\n            ans += buypq.top().second;\n            ans %= mod;\n            buypq.pop();\n        }\n        return ans;\n        \n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"number-of-orders-in-the-backlog"}