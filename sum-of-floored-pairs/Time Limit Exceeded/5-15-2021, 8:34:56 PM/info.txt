{"id":493502882,"lang":"cpp","time":"7 months, 1 week","timestamp":1621091096,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/493502882/","is_pending":"Not Pending","title":"Sum of Floored Pairs","memory":"N/A","code":"class fenwick{\n    public:\n    int n;\n    vector<int> BIT;\n    fenwick(int _n){\n        n = _n;\n        BIT.assign(n,0);\n    }\n    void add(int v,int i){\n        for(;i < n;i+=(i&-i)){\n            BIT[i] += v;\n        }\n    }\n    int get(int i){\n        int ans = 0;\n        for(;i > 0;i-=(i&-i)){\n            ans += BIT[i];\n        }\n        return ans;\n    }\n    int sum(int l,int r){\n        return get(r) -get(l-1);\n    }\n    int value_at(int i){\n       return sum(i,i);\n    }\n};\nconst int N = 3e5+100;\nclass Solution {\npublic:\n    int sumOfFlooredPairs(vector<int>& nums) {\n        int n = nums.size();\n        fenwick tree(N);\n        for(int c : nums){\n            tree.add(1,c);\n        }\n        int ans = 0;\n        int MOD = 1e9+7;\n        map<int,int> m1;\n        for(int c : nums){\n            if(m1[c] != 0){\n                ans += m1[c];\n                continue;\n            }\n            int fans = 0;\n            for(int d = 2*c; d < N;d += c){\n                fans += 1LL*((d/c) - 1)*tree.sum(d-c,d-1) % MOD;\n                fans %= MOD;\n            }\n            m1[c] = fans;\n            ans += fans;\n            ans %= MOD;\n        }\n        return ans;\n    }\n};","compare_result":"111111111111111111111000000000000000000000000000000","title_slug":"sum-of-floored-pairs"}