{"id":480086797,"lang":"cpp","time":"8 months, 2 weeks","timestamp":1618309212,"status_display":"Accepted","runtime":"1880 ms","url":"/submissions/detail/480086797/","is_pending":"Not Pending","title":"Probability of a Two Boxes Having The Same Number of Distinct Balls","memory":"414.3 MB","code":"template<class T> ostream& operator<<(ostream &os,vector<T> V){os<<\"[ \";for(auto v:V)os<<v<<\" \";return os<<\"]\";}\n\n#define trace(...) __f(#__VA_ARGS__,__VA_ARGS__)\ntemplate<typename Arg1>\nvoid __f(const char* name,Arg1&& arg1){cout<<name<<\" : \"<<arg1<<endl;}\ntemplate<typename Arg1,typename... Args>\nvoid __f(const char* names,Arg1&& arg1,Args&&... args){const char* comma=strchr(names+1,',');cout.write(names,comma-names)<<\" : \"<<arg1<<\" | \";__f(comma+1,args...);}\nclass Solution {\npublic:\n    \n    const int  fact[7]= {1,1,2,6,24,120,720};\n    int n;\n    double a = 0;\n    double b = 0;\n    int total = 0;\n    vector<int> nums;\n    double perm(vector<int> v){\n        double ans = 1;\n        int k = 1;            \n        for(int c : v ){\n            for(int i = 1;i<=c;i++){\n                ans *= k++;\n                ans /= i;\n            }\n        };\n        return ans;\n    }\n    int dist(vector<int> &v){\n        return v.size() - count(v.begin(),v.end(),0);\n    }\n    vector<int> get_other(vector<int> &v){\n        vector<int> other = nums;\n        for(int i = 0;i<nums.size();i++){\n            other[i]-= v[i];\n        }\n        return other;\n    }\n    bool check(vector<int> &v){\n        int c1 = dist(v);\n        vector<int> other = get_other(v);\n        int c2 = dist(other);\n        return c1 == c2;\n    }\n    void comp(int pos,vector<int> v){\n        int sum = 0;\n        for(int c : v) sum+= c;\n            if(sum*2 > total) return;\n        if(pos == n){\n            int sum = 0;\n            for(int c : v) sum+= c;\n            if(sum*2 != total) return;\n            double p1 = perm(v);\n            double p2 =  perm(get_other(v));\n            b+= p1*p2;\n            if(check(v)) a += p1*p2;\n            return;\n        }\n        for(int i = 0;i<=nums[pos];i++){\n            v[pos] = i;\n            comp(pos+1,v);\n        }\n    };\n    double getProbability(vector<int> nums1) {\n        nums = nums1;\n        n =  nums.size();\n        for(int c : nums) total+= c;\n        comp(0,vector<int>(n));\n        return (double)a/b;\n    }\n};","compare_result":"111111111111111111111","title_slug":"probability-of-a-two-boxes-having-the-same-number-of-distinct-balls"}