{"id":479460723,"lang":"cpp","time":"8 months, 2 weeks","timestamp":1618177806,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/479460723/","is_pending":"Not Pending","title":"Probability of a Two Boxes Having The Same Number of Distinct Balls","memory":"N/A","code":"class Solution {\npublic:\n    double getProbability(vector<int>& nums) {\n        \n        \n        int a = 0;\n        int b = 0;\n        \n        int n = nums.size();\n        \n        int total = 0;\n        for(int c : nums) total+= c;\n        \n        auto perm = [&](vector<int> v){\n            int ans = 1;\n            int k = 1;\n            int sum = 0;\n            for(int c : v) sum+= c;\n            \n            for(int c : v ){\n                for(int i = 1;i<=c;i++){\n                    ans *= k++;\n                    ans /= i;\n                }\n            };\n            return ans;\n        };\n        auto dist = [&](vector<int> v){\n            return v.size() - count(v.begin(),v.end(),0);\n        };\n        auto get_other = [&](vector<int> v){\n            vector<int> other = nums;\n            for(int i = 0;i<nums.size();i++){\n                other[i]-= v[i];\n            }\n            return other;\n        };\n        \n        \n        auto check = [&](vector<int> v){\n            int c1 = dist(v);\n            vector<int> other = get_other(v);\n            \n            int c2 = dist(other);\n            return c1 == c2;\n        };\n        \n        function<void(int,vector<int>)> comp = [&](int pos,vector<int> v){\n            if(pos == n){\n                int sum = 0;\n                for(int c : v) sum+= c;\n                if(sum*2 != total) return;\n                \n                b += perm(v);\n                if(check(v)) a += perm(v);  \n                return;\n            }\n            \n            for(int i = 0;i<=nums[pos];i++){\n                v[pos] = i;\n                comp(pos+1,v);\n            }\n        };\n        comp(0,vector<int>(n));\n        return (double)a/b;\n    }\n};","compare_result":"100000000000000000000","title_slug":"probability-of-a-two-boxes-having-the-same-number-of-distinct-balls"}