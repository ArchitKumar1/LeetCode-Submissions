{"id":318570629,"lang":"cpp","time":"1 year, 8 months","timestamp":1585821614,"status_display":"Accepted","runtime":"144 ms","url":"/submissions/detail/318570629/","is_pending":"Not Pending","title":"Sum of Subarray Minimums","memory":"12.6 MB","code":"class Solution {\npublic:\n    int sumSubarrayMins(vector<int>& A) {\n        stack<pair<int,int>> st1,st2;\n        int n =A.size();\n        int left[n],right[n];\n        int mod = 1e9+7;\n        for(int i =0;i<n;i++){\n            int count = 1 ;\n            while(st1.size() && st1.top().first >= A[i]){\n                count+= st1.top().second;\n                st1.pop();\n            }\n            st1.push({A[i],count});\n            left[i] = count;\n        }\n        \n        for(int i = n-1;~i;i--){\n            int count = 1 ;\n            while(st2.size() && st2.top().first > A[i]){\n                count+= st2.top().second;\n                st2.pop();\n            }\n            st2.push({A[i],count});\n            right[i] = count;\n        }\n        int ans = 0;\n        for(int i = 0;i<n;i++){\n            (ans += A[i] * left[i]%mod *right[i]%mod)%=mod;\n        }\n        return (int)ans;\n        \n        \n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"sum-of-subarray-minimums"}